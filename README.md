# AI生图微信小程序

基于 Taro + React + TDesign 开发的 AI 生图微信小程序。

## 功能特性

### 1. 首页
- 展示所有用户分享的 AI 画作
- 网格布局，支持滚动浏览
- 右下角悬浮"+"按钮，点击进入创建页面
- 显示画作、提示词和作者信息

### 2. 我的页面
- **未登录状态**：显示"微信一键登录"按钮
- **已登录状态**：
  - 显示用户头像和昵称
  - 显示"个人画廊"，展示自己创作并发布的所有图片

### 3. 创建图片页面
- 提示词输入框：输入想要生成图片的描述
- "生成图片"按钮：触发 AI 生成（当前为模拟）
- 加载状态：显示生成进度
- 生成结果：显示生成的图片和"发布"按钮
- 发布功能：保存图片和提示词，自动跳转回首页

## 技术栈

- **框架**：Taro 4.1.8
- **UI 库**：TDesign Miniprogram
- **语言**：TypeScript + React
- **样式**：CSS（使用 rpx 单位）

## 开发指南

### 安装依赖

```bash
cd miniprogram
npm install
```

### 开发运行

```bash
# 微信小程序
npm run dev:weapp

# H5
npm run dev:h5
```

### 构建

```bash
# 微信小程序
npm run build:weapp
```

## 项目结构

```
miniprogram/src/
├── app.ts                 # 应用入口
├── app.config.ts          # 应用配置（TabBar、页面路由等）
├── app.css                # 全局样式
├── pages/                 # 页面目录
│   ├── index/            # 首页
│   ├── my/               # 我的页面
│   └── create/           # 创建图片页面
├── utils/                 # 工具函数
│   ├── storage.ts        # 本地存储管理
│   └── api.ts            # API 接口（模拟）
└── types/                # TypeScript 类型定义
```

## 数据存储

使用微信小程序的本地存储（Storage）来保存：
- 首页画作列表
- 个人画廊
- 用户登录信息

## 注意事项

1. **AI 生成图片**：当前使用 Unsplash 随机图片模拟 AI 生成，实际开发需要对接真实的 AI 生图 API
2. **TabBar 图标**：当前未配置图标路径，如需图标请添加图标文件并更新 `app.config.ts`
3. **网络图片**：使用了 Unsplash 的图片，实际开发中需要配置合法域名
4. **用户登录**：使用微信的 `getUserProfile` API，需要用户授权

## 待完善功能

- [ ] 对接真实的 AI 生图 API
- [ ] 添加图片详情页
- [ ] 添加图片点赞、收藏功能
- [ ] 添加用户头像显示
- [ ] 添加下拉刷新和上拉加载更多
- [ ] 优化图片加载性能
- [ ] 添加错误处理和重试机制

